basePath: /api/v1
definitions:
  contracts.BatchDownloadRequest:
    properties:
      auto_classify:
        type: boolean
      directory:
        type: string
      items:
        items:
          $ref: '#/definitions/contracts.DownloadRequest'
        type: array
      video_only:
        type: boolean
    required:
    - items
    type: object
  contracts.BatchNotificationRequest:
    properties:
      batch_mode:
        description: 是否批量发送
        type: boolean
      fail_fast:
        description: 遇到错误是否立即停止
        type: boolean
      notifications:
        items:
          $ref: '#/definitions/contracts.NotificationRequest'
        type: array
    required:
    - notifications
    type: object
  contracts.DirectoryDownloadRequest:
    properties:
      auto_classify:
        type: boolean
      directory_path:
        type: string
      recursive:
        type: boolean
      target_dir:
        type: string
      video_only:
        type: boolean
    required:
    - directory_path
    type: object
  contracts.DownloadNotificationRequest:
    type: object
  contracts.DownloadRequest:
    properties:
      auto_classify:
        type: boolean
      directory:
        type: string
      file_size:
        description: 文件大小，用于磁盘空间检查
        type: integer
      filename:
        type: string
      options:
        additionalProperties: true
        type: object
      url:
        type: string
      video_only:
        type: boolean
    required:
    - url
    type: object
  contracts.FileClassificationRequest:
    properties:
      files:
        items:
          $ref: '#/definitions/contracts.FileResponse'
        type: array
    required:
    - files
    type: object
  contracts.FileDownloadRequest:
    properties:
      auto_classify:
        type: boolean
      file_path:
        type: string
      options:
        additionalProperties: true
        type: object
      target_dir:
        type: string
    required:
    - file_path
    type: object
  contracts.FileListRequest:
    properties:
      page:
        minimum: 1
        type: integer
      page_size:
        maximum: 1000
        minimum: 1
        type: integer
      path:
        type: string
      recursive:
        type: boolean
      sort_by:
        enum:
        - name
        - size
        - modified
        type: string
      sort_order:
        enum:
        - asc
        - desc
        type: string
      video_only:
        type: boolean
    required:
    - path
    type: object
  contracts.FilePreview:
    properties:
      download_path:
        type: string
      internal_url:
        type: string
      media_type:
        type: string
      modified:
        type: string
      name:
        type: string
      path:
        type: string
      size:
        type: integer
    type: object
  contracts.FileResponse:
    properties:
      category:
        type: string
      download_path:
        type: string
      external_url:
        type: string
      internal_url:
        type: string
      is_dir:
        type: boolean
      media_type:
        type: string
      modified:
        type: string
      name:
        type: string
      path:
        type: string
      size:
        type: integer
      size_formatted:
        type: string
      thumbnail:
        type: string
    type: object
  contracts.FileSearchRequest:
    properties:
      file_type:
        type: string
      limit:
        maximum: 1000
        minimum: 1
        type: integer
      max_size:
        type: integer
      min_size:
        type: integer
      modified_after:
        type: string
      modified_before:
        type: string
      path:
        type: string
      query:
        type: string
    required:
    - query
    type: object
  contracts.NotificationChannel:
    enum:
    - telegram
    - webhook
    - email
    - system
    type: string
    x-enum-varnames:
    - ChannelTelegram
    - ChannelWebhook
    - ChannelEmail
    - ChannelSystem
  contracts.NotificationLevel:
    enum:
    - info
    - warning
    - error
    - success
    type: string
    x-enum-varnames:
    - NotificationLevelInfo
    - NotificationLevelWarning
    - NotificationLevelError
    - NotificationLevelSuccess
  contracts.NotificationRequest:
    properties:
      channel:
        $ref: '#/definitions/contracts.NotificationChannel'
      data:
        additionalProperties: true
        type: object
      level:
        $ref: '#/definitions/contracts.NotificationLevel'
      message:
        type: string
      priority:
        type: integer
      target_id:
        description: 如Telegram chat_id
        type: string
      template:
        type: string
      title:
        type: string
    required:
    - channel
    - level
    - message
    - title
    type: object
  contracts.PreviewSummary:
    properties:
      movie_files:
        type: integer
      other_files:
        type: integer
      total_files:
        type: integer
      total_size:
        type: string
      tv_files:
        type: integer
      video_files:
        type: integer
    type: object
  contracts.QuickTaskRequest:
    properties:
      created_by:
        type: integer
      path:
        type: string
      type:
        enum:
        - daily
        - recent
        - weekly
        - realtime
        type: string
    required:
    - created_by
    - type
    type: object
  contracts.SystemNotificationRequest:
    properties:
      component:
        description: aria2, alist, scheduler, etc.
        type: string
      details:
        additionalProperties: true
        type: object
      event:
        description: startup, shutdown, error, etc.
        type: string
      level:
        $ref: '#/definitions/contracts.NotificationLevel'
      message:
        type: string
      metrics:
        additionalProperties: true
        type: object
    required:
    - component
    - event
    - level
    - message
    type: object
  contracts.TaskListResponse:
    properties:
      summary:
        $ref: '#/definitions/contracts.TaskSummary'
      tasks:
        items:
          $ref: '#/definitions/contracts.TaskResponse'
        type: array
      total_count:
        type: integer
    type: object
  contracts.TaskNotificationRequest:
    type: object
  contracts.TaskPreviewResponse:
    properties:
      files:
        items:
          $ref: '#/definitions/contracts.FilePreview'
        type: array
      summary:
        $ref: '#/definitions/contracts.PreviewSummary'
      task:
        $ref: '#/definitions/contracts.TaskResponse'
      time_range:
        $ref: '#/definitions/contracts.TimeRange'
    type: object
  contracts.TaskRequest:
    properties:
      auto_preview:
        type: boolean
      created_by:
        type: integer
      cron_expr:
        type: string
      enabled:
        type: boolean
      hours_ago:
        description: 最多1年
        maximum: 8760
        minimum: 1
        type: integer
      name:
        maxLength: 100
        minLength: 1
        type: string
      path:
        type: string
      video_only:
        type: boolean
    required:
    - cron_expr
    - hours_ago
    - name
    - path
    type: object
  contracts.TaskResponse:
    properties:
      auto_preview:
        type: boolean
      created_at:
        type: string
      created_by:
        type: integer
      cron_expr:
        type: string
      enabled:
        type: boolean
      failure_count:
        type: integer
      hours_ago:
        type: integer
      id:
        type: string
      last_run_at:
        type: string
      name:
        type: string
      next_run_at:
        type: string
      path:
        type: string
      run_count:
        type: integer
      status:
        $ref: '#/definitions/entities.TaskStatus'
      success_count:
        type: integer
      updated_at:
        type: string
      video_only:
        type: boolean
    type: object
  contracts.TaskRunRequest:
    properties:
      force_run:
        type: boolean
      notify_user:
        type: boolean
      preview:
        type: boolean
      task_id:
        type: string
    required:
    - task_id
    type: object
  contracts.TaskRunResponse:
    properties:
      download_ids:
        items:
          type: string
        type: array
      preview:
        $ref: '#/definitions/contracts.TaskPreviewResponse'
      run_id:
        type: string
      started_at:
        type: string
      status:
        type: string
      task_id:
        type: string
    type: object
  contracts.TaskSummary:
    properties:
      disabled_count:
        type: integer
      enabled_count:
        type: integer
      error_count:
        type: integer
      running_count:
        type: integer
    type: object
  contracts.TaskUpdateRequest:
    properties:
      auto_preview:
        type: boolean
      cron_expr:
        type: string
      enabled:
        type: boolean
      hours_ago:
        maximum: 8760
        minimum: 1
        type: integer
      name:
        maxLength: 100
        minLength: 1
        type: string
      path:
        type: string
      video_only:
        type: boolean
    type: object
  contracts.TimeRange:
    properties:
      end:
        type: string
      start:
        type: string
    type: object
  contracts.TimeRangeFileRequest:
    properties:
      end_time:
        type: string
      hours_ago:
        maximum: 8760
        minimum: 1
        type: integer
      path:
        type: string
      start_time:
        type: string
      video_only:
        type: boolean
    required:
    - end_time
    - path
    - start_time
    type: object
  entities.TaskStatus:
    enum:
    - idle
    - running
    - success
    - error
    - stopped
    type: string
    x-enum-comments:
      TaskStatusError: 最后一次执行失败
      TaskStatusIdle: 空闲状态
      TaskStatusRunning: 运行中
      TaskStatusStopped: 已停止
      TaskStatusSuccess: 最后一次执行成功
    x-enum-descriptions:
    - 空闲状态
    - 运行中
    - 最后一次执行成功
    - 最后一次执行失败
    - 已停止
    x-enum-varnames:
    - TaskStatusIdle
    - TaskStatusRunning
    - TaskStatusSuccess
    - TaskStatusError
    - TaskStatusStopped
  handlers.CreateDownloadRequest:
    properties:
      dir:
        type: string
      filename:
        type: string
      options:
        additionalProperties: true
        type: object
      url:
        type: string
    required:
    - url
    type: object
host: localhost:8081
info:
  contact:
    email: support@swagger.io
    name: API Support
    url: http://www.swagger.io/support
  description: 基于Gin框架的Alist和Aria2下载管理服务
  license:
    name: MIT
    url: https://github.com/easayliu/alist-aria2-download/blob/main/LICENSE
  termsOfService: http://swagger.io/terms/
  title: Alist Aria2 Download API
  version: "1.0"
paths:
  /alist/file:
    get:
      consumes:
      - application/json
      description: 获取Alist中指定路径文件的详细信息，包含下载链接
      parameters:
      - description: 文件完整路径
        in: query
        name: path
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 文件详细信息
          schema:
            additionalProperties: true
            type: object
        "400":
          description: 请求参数错误
          schema:
            additionalProperties: true
            type: object
        "500":
          description: 服务器内部错误
          schema:
            additionalProperties: true
            type: object
      summary: 获取文件信息
      tags:
      - Alist管理
  /alist/files:
    get:
      consumes:
      - application/json
      description: 获取Alist中指定路径的文件列表
      parameters:
      - description: 文件路径（留空使用配置的默认路径）
        in: query
        name: path
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: per_page
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 文件列表
          schema:
            additionalProperties: true
            type: object
        "400":
          description: 请求参数错误
          schema:
            additionalProperties: true
            type: object
        "500":
          description: 服务器内部错误
          schema:
            additionalProperties: true
            type: object
      summary: 获取文件列表
      tags:
      - Alist管理
  /alist/login:
    post:
      description: 使用配置文件中的用户名密码登录Alist服务
      produces:
      - application/json
      responses:
        "200":
          description: 登录成功
          schema:
            additionalProperties: true
            type: object
        "401":
          description: 登录失败
          schema:
            additionalProperties: true
            type: object
      summary: Alist登录
      tags:
      - Alist管理
  /downloads:
    get:
      description: 获取所有Aria2下载任务列表
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: 获取下载列表
      tags:
      - 下载管理
    post:
      consumes:
      - application/json
      description: 创建新的Aria2下载任务
      parameters:
      - description: 下载请求参数
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/contracts.DownloadRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 下载任务创建成功
          schema:
            additionalProperties: true
            type: object
        "400":
          description: 请求参数错误
          schema:
            additionalProperties: true
            type: object
        "500":
          description: 服务器内部错误
          schema:
            additionalProperties: true
            type: object
      summary: 创建下载任务
      tags:
      - 下载管理
  /downloads/{id}:
    delete:
      description: 根据GID删除下载任务
      parameters:
      - description: 下载任务GID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: 删除下载任务
      tags:
      - 下载管理
    get:
      description: 根据GID获取单个下载任务详情
      parameters:
      - description: 下载任务GID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: 获取下载详情
      tags:
      - 下载管理
  /downloads/{id}/pause:
    post:
      description: 暂停指定的下载任务
      parameters:
      - description: 下载任务GID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: 暂停下载
      tags:
      - 下载管理
  /downloads/{id}/resume:
    post:
      description: 恢复指定的下载任务
      parameters:
      - description: 下载任务GID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: 恢复下载
      tags:
      - 下载管理
  /downloads/batch:
    post:
      consumes:
      - application/json
      description: 批量创建多个Aria2下载任务
      parameters:
      - description: 批量下载请求参数
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/contracts.BatchDownloadRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 批量下载任务创建成功
          schema:
            additionalProperties: true
            type: object
        "400":
          description: 请求参数错误
          schema:
            additionalProperties: true
            type: object
        "500":
          description: 服务器内部错误
          schema:
            additionalProperties: true
            type: object
      summary: 批量创建下载任务
      tags:
      - 下载管理
  /downloads/pause-all:
    post:
      description: 暂停所有正在进行的下载任务
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: 暂停所有下载
      tags:
      - 下载管理
  /downloads/resume-all:
    post:
      description: 恢复所有已暂停的下载任务
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: 恢复所有下载
      tags:
      - 下载管理
  /downloads/statistics:
    get:
      description: 获取下载任务的统计信息
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: 获取下载统计
      tags:
      - 下载管理
  /downloads/system-status:
    get:
      description: 获取Aria2系统的状态信息
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: 获取系统状态
      tags:
      - 下载管理
  /files/category/{category}:
    get:
      description: 获取指定分类的文件列表
      parameters:
      - description: 文件分类
        enum:
        - video
        - audio
        - image
        - document
        - archive
        - other
        in: path
        name: category
        required: true
        type: string
      - description: 搜索路径
        in: query
        name: path
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 分类文件列表
          schema:
            additionalProperties: true
            type: object
        "500":
          description: 服务器内部错误
          schema:
            additionalProperties: true
            type: object
      summary: 按分类获取文件
      tags:
      - 文件管理
  /files/classify:
    post:
      consumes:
      - application/json
      description: 将文件列表按照类型进行分类
      parameters:
      - description: 文件分类请求参数
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/contracts.FileClassificationRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 分类结果
          schema:
            additionalProperties: true
            type: object
        "400":
          description: 请求参数错误
          schema:
            additionalProperties: true
            type: object
        "500":
          description: 服务器内部错误
          schema:
            additionalProperties: true
            type: object
      summary: 分类文件
      tags:
      - 文件管理
  /files/download:
    post:
      consumes:
      - application/json
      description: 获取指定路径下的所有文件并添加到Aria2下载队列，支持递归下载子目录
      parameters:
      - description: 下载路径请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/contracts.DirectoryDownloadRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 下载任务创建结果或预览信息
          schema:
            additionalProperties: true
            type: object
        "400":
          description: 请求参数错误
          schema:
            additionalProperties: true
            type: object
        "500":
          description: 服务器内部错误
          schema:
            additionalProperties: true
            type: object
      summary: 从指定路径下载文件
      tags:
      - 文件管理
  /files/list:
    post:
      consumes:
      - application/json
      description: 获取指定路径下的文件列表，支持分页和视频文件过滤
      parameters:
      - description: 列出文件请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/contracts.FileListRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 文件列表
          schema:
            additionalProperties: true
            type: object
        "400":
          description: 请求参数错误
          schema:
            additionalProperties: true
            type: object
        "500":
          description: 服务器内部错误
          schema:
            additionalProperties: true
            type: object
      summary: 列出指定路径的文件
      tags:
      - 文件管理
  /files/manual-download:
    post:
      consumes:
      - application/json
      description: 手动执行指定时间范围内的文件下载，支持预览模式
      parameters:
      - description: 下载参数
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/contracts.TimeRangeFileRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 下载结果
          schema:
            additionalProperties: true
            type: object
        "400":
          description: 请求参数错误
          schema:
            additionalProperties: true
            type: object
        "500":
          description: 服务器内部错误
          schema:
            additionalProperties: true
            type: object
      summary: 手动执行文件下载
      tags:
      - 文件管理
  /files/recent:
    get:
      consumes:
      - application/json
      description: 获取最近指定小时内修改的文件
      parameters:
      - description: 搜索路径
        in: query
        name: path
        type: string
      - default: 24
        description: 小时数
        in: query
        name: hours_ago
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 最近文件列表
          schema:
            additionalProperties: true
            type: object
        "400":
          description: 请求参数错误
          schema:
            additionalProperties: true
            type: object
        "500":
          description: 服务器内部错误
          schema:
            additionalProperties: true
            type: object
      summary: 获取最近文件
      tags:
      - 文件管理
  /files/search:
    post:
      consumes:
      - application/json
      description: 在指定路径中搜索符合条件的文件
      parameters:
      - description: 搜索请求参数
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/contracts.FileSearchRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 搜索结果
          schema:
            additionalProperties: true
            type: object
        "400":
          description: 请求参数错误
          schema:
            additionalProperties: true
            type: object
        "500":
          description: 服务器内部错误
          schema:
            additionalProperties: true
            type: object
      summary: 搜索文件
      tags:
      - 文件管理
  /files/single-download:
    post:
      consumes:
      - application/json
      description: 下载指定路径的单个文件到Aria2
      parameters:
      - description: 文件下载请求参数
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/contracts.FileDownloadRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 文件下载任务创建成功
          schema:
            additionalProperties: true
            type: object
        "400":
          description: 请求参数错误
          schema:
            additionalProperties: true
            type: object
        "500":
          description: 服务器内部错误
          schema:
            additionalProperties: true
            type: object
      summary: 下载单个文件
      tags:
      - 文件管理
  /files/time-range:
    post:
      consumes:
      - application/json
      description: 获取指定时间范围内修改的文件列表
      parameters:
      - description: 时间范围请求参数
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/contracts.TimeRangeFileRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 时间范围内的文件列表
          schema:
            additionalProperties: true
            type: object
        "400":
          description: 请求参数错误
          schema:
            additionalProperties: true
            type: object
        "500":
          description: 服务器内部错误
          schema:
            additionalProperties: true
            type: object
      summary: 按时间范围获取文件
      tags:
      - 文件管理
  /files/yesterday:
    get:
      consumes:
      - application/json
      description: 获取昨天修改的文件列表
      parameters:
      - description: 搜索路径（留空使用配置的默认路径）
        in: query
        name: path
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 昨天的文件列表
          schema:
            additionalProperties: true
            type: object
        "500":
          description: 服务器内部错误
          schema:
            additionalProperties: true
            type: object
      summary: 获取昨天的文件
      tags:
      - 文件管理
  /files/yesterday/download:
    post:
      consumes:
      - application/json
      description: 将昨天修改的文件批量添加到Aria2下载队列
      parameters:
      - description: 搜索路径（留空使用配置的默认路径）
        in: query
        name: path
        type: string
      - description: 预览模式，只生成路径不下载
        in: query
        name: preview
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: 下载任务创建结果或预览信息
          schema:
            additionalProperties: true
            type: object
        "500":
          description: 服务器内部错误
          schema:
            additionalProperties: true
            type: object
      summary: 批量下载昨天文件
      tags:
      - 文件管理
  /health:
    get:
      description: 检查服务健康状态
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
      summary: 健康检查
      tags:
      - 健康检查
  /notifications/batch:
    post:
      consumes:
      - application/json
      description: 批量发送多个通知消息
      parameters:
      - description: 批量通知请求参数
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/contracts.BatchNotificationRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 批量通知发送结果
          schema:
            additionalProperties: true
            type: object
        "400":
          description: 请求参数错误
          schema:
            additionalProperties: true
            type: object
        "500":
          description: 服务器内部错误
          schema:
            additionalProperties: true
            type: object
      summary: 批量发送通知
      tags:
      - 通知管理
  /notifications/config:
    get:
      description: 获取通知系统的配置信息
      produces:
      - application/json
      responses:
        "200":
          description: 通知配置信息
          schema:
            additionalProperties: true
            type: object
        "500":
          description: 服务器内部错误
          schema:
            additionalProperties: true
            type: object
      summary: 获取通知配置
      tags:
      - 通知管理
  /notifications/download-complete:
    post:
      consumes:
      - application/json
      description: 发送下载完成通知
      parameters:
      - description: 下载通知请求参数
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/contracts.DownloadNotificationRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 通知发送成功
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: 请求参数错误
          schema:
            additionalProperties: true
            type: object
        "500":
          description: 服务器内部错误
          schema:
            additionalProperties: true
            type: object
      summary: 下载完成通知
      tags:
      - 通知管理
  /notifications/download-failed:
    post:
      consumes:
      - application/json
      description: 发送下载失败通知
      parameters:
      - description: 下载通知请求参数
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/contracts.DownloadNotificationRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 通知发送成功
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: 请求参数错误
          schema:
            additionalProperties: true
            type: object
        "500":
          description: 服务器内部错误
          schema:
            additionalProperties: true
            type: object
      summary: 下载失败通知
      tags:
      - 通知管理
  /notifications/history:
    get:
      description: 获取历史通知记录列表
      parameters:
      - default: 20
        description: 每页数量
        in: query
        name: limit
        type: integer
      - default: 0
        description: 偏移量
        in: query
        name: offset
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 通知历史列表
          schema:
            additionalProperties: true
            type: object
        "500":
          description: 服务器内部错误
          schema:
            additionalProperties: true
            type: object
      summary: 获取通知历史
      tags:
      - 通知管理
  /notifications/send:
    post:
      consumes:
      - application/json
      description: 发送单个通知消息
      parameters:
      - description: 通知请求参数
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/contracts.NotificationRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 通知发送成功
          schema:
            additionalProperties: true
            type: object
        "400":
          description: 请求参数错误
          schema:
            additionalProperties: true
            type: object
        "500":
          description: 服务器内部错误
          schema:
            additionalProperties: true
            type: object
      summary: 发送通知
      tags:
      - 通知管理
  /notifications/stats:
    get:
      description: 获取通知系统的统计信息
      produces:
      - application/json
      responses:
        "200":
          description: 通知统计信息
          schema:
            additionalProperties: true
            type: object
        "500":
          description: 服务器内部错误
          schema:
            additionalProperties: true
            type: object
      summary: 获取通知统计
      tags:
      - 通知管理
  /notifications/system-event:
    post:
      consumes:
      - application/json
      description: 发送系统事件通知
      parameters:
      - description: 系统通知请求参数
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/contracts.SystemNotificationRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 通知发送成功
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: 请求参数错误
          schema:
            additionalProperties: true
            type: object
        "500":
          description: 服务器内部错误
          schema:
            additionalProperties: true
            type: object
      summary: 系统事件通知
      tags:
      - 通知管理
  /notifications/task-complete:
    post:
      consumes:
      - application/json
      description: 发送任务完成通知
      parameters:
      - description: 任务通知请求参数
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/contracts.TaskNotificationRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 通知发送成功
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: 请求参数错误
          schema:
            additionalProperties: true
            type: object
        "500":
          description: 服务器内部错误
          schema:
            additionalProperties: true
            type: object
      summary: 任务完成通知
      tags:
      - 通知管理
  /notifications/task-failed:
    post:
      consumes:
      - application/json
      description: 发送任务失败通知
      parameters:
      - description: 任务通知请求参数
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/contracts.TaskNotificationRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 通知发送成功
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: 请求参数错误
          schema:
            additionalProperties: true
            type: object
        "500":
          description: 服务器内部错误
          schema:
            additionalProperties: true
            type: object
      summary: 任务失败通知
      tags:
      - 通知管理
  /tasks:
    get:
      consumes:
      - application/json
      description: 获取所有定时任务的列表
      parameters:
      - description: 创建者ID
        in: query
        name: created_by
        type: integer
      - description: 是否启用
        in: query
        name: enabled
        type: boolean
      - description: 任务状态
        in: query
        name: status
        type: string
      - default: 100
        description: 限制数量
        in: query
        name: limit
        type: integer
      - default: 0
        description: 偏移量
        in: query
        name: offset
        type: integer
      - description: 排序字段
        in: query
        name: sort_by
        type: string
      - description: 排序方向
        in: query
        name: sort_order
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 任务列表
          schema:
            $ref: '#/definitions/contracts.TaskListResponse'
        "500":
          description: 服务器内部错误
          schema:
            additionalProperties: true
            type: object
      summary: 获取定时任务列表
      tags:
      - 定时任务
    post:
      consumes:
      - application/json
      description: 创建一个新的定时任务，按照cron表达式定期执行
      parameters:
      - description: 创建任务请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/contracts.TaskRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 任务创建成功
          schema:
            $ref: '#/definitions/contracts.TaskResponse'
        "400":
          description: 请求参数错误
          schema:
            additionalProperties: true
            type: object
        "500":
          description: 服务器内部错误
          schema:
            additionalProperties: true
            type: object
      summary: 创建定时任务
      tags:
      - 定时任务
  /tasks/{id}:
    delete:
      consumes:
      - application/json
      description: 删除指定ID的定时任务
      parameters:
      - description: 任务ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 任务删除成功
          schema:
            additionalProperties: true
            type: object
        "404":
          description: 任务不存在
          schema:
            additionalProperties: true
            type: object
        "500":
          description: 服务器内部错误
          schema:
            additionalProperties: true
            type: object
      summary: 删除定时任务
      tags:
      - 定时任务
    get:
      consumes:
      - application/json
      description: 根据任务ID获取定时任务的详细信息
      parameters:
      - description: 任务ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 任务详情
          schema:
            $ref: '#/definitions/contracts.TaskResponse'
        "404":
          description: 任务不存在
          schema:
            additionalProperties: true
            type: object
        "500":
          description: 服务器内部错误
          schema:
            additionalProperties: true
            type: object
      summary: 获取定时任务详情
      tags:
      - 定时任务
    put:
      consumes:
      - application/json
      description: 更新指定ID的定时任务信息
      parameters:
      - description: 任务ID
        in: path
        name: id
        required: true
        type: string
      - description: 更新任务请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/contracts.TaskUpdateRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 任务更新成功
          schema:
            $ref: '#/definitions/contracts.TaskResponse'
        "400":
          description: 请求参数错误
          schema:
            additionalProperties: true
            type: object
        "404":
          description: 任务不存在
          schema:
            additionalProperties: true
            type: object
        "500":
          description: 服务器内部错误
          schema:
            additionalProperties: true
            type: object
      summary: 更新定时任务
      tags:
      - 定时任务
  /tasks/{id}/disable:
    post:
      consumes:
      - application/json
      description: 禁用指定ID的定时任务
      parameters:
      - description: 任务ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 任务禁用成功
          schema:
            additionalProperties: true
            type: object
        "404":
          description: 任务不存在
          schema:
            additionalProperties: true
            type: object
        "500":
          description: 服务器内部错误
          schema:
            additionalProperties: true
            type: object
      summary: 禁用定时任务
      tags:
      - 定时任务
  /tasks/{id}/enable:
    post:
      consumes:
      - application/json
      description: 启用指定ID的定时任务
      parameters:
      - description: 任务ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 任务启用成功
          schema:
            additionalProperties: true
            type: object
        "404":
          description: 任务不存在
          schema:
            additionalProperties: true
            type: object
        "500":
          description: 服务器内部错误
          schema:
            additionalProperties: true
            type: object
      summary: 启用定时任务
      tags:
      - 定时任务
  /tasks/{id}/preview:
    get:
      consumes:
      - application/json
      description: 预览定时任务将要下载的文件，不实际执行下载
      parameters:
      - description: 任务ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 预览结果
          schema:
            $ref: '#/definitions/contracts.TaskPreviewResponse'
        "404":
          description: 任务不存在
          schema:
            additionalProperties: true
            type: object
        "500":
          description: 服务器内部错误
          schema:
            additionalProperties: true
            type: object
      summary: 预览定时任务
      tags:
      - 定时任务
  /tasks/{id}/run:
    post:
      consumes:
      - application/json
      description: 立即执行指定ID的定时任务，不等待下一个调度时间
      parameters:
      - description: 任务ID
        in: path
        name: id
        required: true
        type: string
      - description: 执行选项
        in: body
        name: request
        schema:
          $ref: '#/definitions/contracts.TaskRunRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 任务已开始执行或预览结果
          schema:
            $ref: '#/definitions/contracts.TaskRunResponse'
        "404":
          description: 任务不存在
          schema:
            additionalProperties: true
            type: object
        "500":
          description: 服务器内部错误
          schema:
            additionalProperties: true
            type: object
      summary: 立即执行定时任务
      tags:
      - 定时任务
  /tasks/{id}/stop:
    post:
      description: 停止正在运行的任务
      parameters:
      - description: 任务ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 任务停止成功
          schema:
            additionalProperties: true
            type: object
        "400":
          description: 请求参数错误
          schema:
            additionalProperties: true
            type: object
        "500":
          description: 服务器内部错误
          schema:
            additionalProperties: true
            type: object
      summary: 停止任务
      tags:
      - 定时任务
  /tasks/quick:
    post:
      consumes:
      - application/json
      description: 创建预定义的快捷任务（每日、最近等）
      parameters:
      - description: 快捷任务请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/contracts.QuickTaskRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 任务创建成功
          schema:
            $ref: '#/definitions/contracts.TaskResponse'
        "400":
          description: 请求参数错误
          schema:
            additionalProperties: true
            type: object
        "500":
          description: 服务器内部错误
          schema:
            additionalProperties: true
            type: object
      summary: 创建快捷任务
      tags:
      - 定时任务
  /tasks/scheduler/status:
    get:
      description: 获取任务调度器的状态信息
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: 获取调度器状态
      tags:
      - 定时任务
  /tasks/statistics:
    get:
      description: 获取任务系统的统计信息
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: 获取任务统计
      tags:
      - 定时任务
  /tasks/user/{user-id}:
    get:
      description: 获取指定用户的所有任务列表
      parameters:
      - description: 用户ID
        in: path
        name: user-id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 用户任务列表
          schema:
            additionalProperties: true
            type: object
        "400":
          description: 请求参数错误
          schema:
            additionalProperties: true
            type: object
        "500":
          description: 服务器内部错误
          schema:
            additionalProperties: true
            type: object
      summary: 获取用户任务
      tags:
      - 定时任务
schemes:
- http
- https
swagger: "2.0"
